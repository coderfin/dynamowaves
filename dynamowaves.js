
const vertical_paths = [
    "M -198.737 210.263 C -172.352 332.623 307.351 257.623 322.267 236.903 L 315.383 286.733 L -193.002 286.733 Z",
    "M -201.871 210.539 C -181.559 337.839 292.298 209.559 325.401 237.179 L 318.435 287.009 L -196.068 287.009 Z",
    "M -215.751 209.629 C -109.04 239.229 73.988 324.099 339.281 241.209 L 318.427 286.099 L -209.793 286.099 Z",
    "M -214.008 211.522 C 27.633 206.582 73.833 325.992 337.388 243.102 L 316.67 287.992 L -208.089 287.992 Z"
  ];
  const horizontal_paths = [


    "M 0 177.778 C 0 177.778 240 213.333 360 225.167 C 480 237.222 600 242.778 720 240 C 840 237.222 960 225 1080 210.389 C 1200 195.556 1440 160 1440 160 L 1440 320 L 0 320 L 0 177.778 Z",

    "M 0 177.778 C 0 177.778 152.333 246.166 360 225.167 C 479.99 213.015 600 242.778 720 240 C 840 237.222 960 225 1080 210.389 C 1200 195.556 1440 160 1440 160 L 1440 320 L 0 320 L 0 177.778 Z",

    "M 0 177.778 C 0 177.778 160.272 165.64 360 225.167 C 478.98 260.628 587.584 185.149 712.604 195.779 C 837.624 206.409 1008.755 296.934 1182.348 206.105 C 1289.482 150.049 1440 160 1440 160 L 1440 320 L 0 320 L 0 177.778 Z",

    "M 0 177.778 C -0.427 177.524 507.134 139.697 712.604 195.779 C 918.074 251.861 984.272 260.415 1182.348 206.105 C 1298.957 174.132 1440 160 1440 160 L 1440 320 L 0 320 L 0 177.778 Z",

    "M 0 177.778 C -0.427 177.524 217.116 146.351 422.586 202.433 C 628.056 258.515 984.272 260.415 1182.348 206.105 C 1298.957 174.132 1440 160 1440 160 L 1440 320 L 0 320 L 0 177.778 Z",

    "M 0 177.778 C -0.427 177.524 79.116 264.582 422.586 202.433 C 766.056 140.284 984.272 260.415 1182.348 206.105 C 1298.957 174.132 1440 160 1440 160 L 1440 320 L 0 320 L 0 177.778 Z",

    "M 0 177.778 C -0.427 177.524 79.116 264.582 422.586 202.433 C 766.056 140.284 812.939 190.347 1017.833 204.571 C 1162.904 214.642 1440 160 1440 160 L 1440 320 L 0 320 L 0 177.778 Z",

    "M 0 196.617 C -0.427 196.363 103.505 127.431 392.253 207.335 C 681.001 287.239 812.939 190.347 1017.833 204.571 C 1162.904 214.642 1440 160 1440 160 L 1440 320 L 0 320 L 0 196.617 Z",

    "M 0 185.891 C -0.427 185.637 321.963 226.093 452.388 208.52 C 582.813 190.947 532.069 160 894.881 188.712 C 1258.553 217.492 1440 160 1440 160 L 1440 320 L 0 320 L 0 185.891 Z"
  ];

  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  class DynamoWave extends HTMLElement {
    constructor() {
      super();
    }
  
    connectedCallback() {
      let classes = $(this)[0].className;
      let id = $(this)[0].id;
      let styles = $(this).get(0).style.cssText;
      let flip_x = $(this).data("face") == "left" ? true : false;
      let flip_y = $(this).data("face") == "bottom" ? true : false;
      let vertical = ($(this).data("face") == "left" || $(this).data("face") == "right") ? true : false;
      $(this).replaceWith(`
          <svg viewBox="${vertical ? "0 0 100 500" : "0 160 1440 160"}" preserveAspectRatio="none" class="${classes ? classes : ''}" style="${flip_x ? "transform:scaleX(-1);" : ""}${flip_y ? "transform:scaleY(-1);" : ""}${styles ? styles : ''}" ${id ? `id="${id}"` : ""}>
            <path d="${vertical ? shuffleArray(vertical_paths)[0] : shuffleArray(horizontal_paths)[0]}" style="stroke: none; fill: inherit" ${vertical ? `transform="matrix(-0.000001, -1, 1, -0.000001, -186.732925, 310.263264)"` : ""}></path>
          </svg>
        `);
    }
  }
  
  customElements.define("dynamo-wave", DynamoWave);